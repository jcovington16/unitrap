"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getVersion = void 0;
const utils_js_1 = require("../helpers/utils.js");
const index_js_1 = require("./client/index.js");
const errors_js_1 = require("./errors.js");
function assertResponse(obj) {
    return Object.values(obj).every((v) => v != null);
}
function transformResponse(obj) {
    if (assertResponse(obj)) {
        return (0, utils_js_1.camelize)(obj);
    }
    /* c8 ignore next 2 */
    throw new Error("malformed version repsonse");
}
async function getVersion(config, opts = {}) {
    const version = (0, index_js_1.getFetcher)(config).path("/version").method("get").create();
    const { data } = await version({}, opts).catch(errors_js_1.hoistApiError);
    const transformed = transformResponse(data);
    return transformed;
}
exports.getVersion = getVersion;
//# sourceMappingURL=version.js.map